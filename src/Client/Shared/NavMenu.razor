@inject IStringLocalizer<NavMenu> L


<PersonCard
    Style="background-color: var(--mud-palette-drawer-background);color: var(--mud-palette-drawer-text); margin-bottom:0px!important" />
<MudNavMenu>
    <MudDivider Class="my-2" />
@*    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">@L["Home"]</MudNavLink>
*@
    @if (_canViewChatMessages)
    {
        <MudNavLink Href="/Communication/chat" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Message">@L["Chat"]</MudNavLink>
    }

    @if (CanViewGeographyGroup       
        || CanViewOrganizationGroup
        || CanViewPeopleGroup
        || CanViewElearningGroup
        || CanViewPurchaseGroup
        || CanViewCatalogGroup
        || CanViewPropertyGroup
        || CanViewProductionGroup
        || CanViewPlaceGroup)
    {
        <MudDivider Class="my-2" />
        <MudText Typo="Typo.subtitle2" Color="Color.Primary" Class="ml-4 my-3">@L["Master Data"]</MudText>
    }

    @if (CanViewGeographyGroup)
    {
        <MudNavGroup Title="@L["Geo"]" Icon="@Icons.Material.Outlined.Language" Class="mt-2 mb-n2" Expanded="false">
            @if (_canViewGeoAdminUnits)
            {
                <MudNavLink Href="/Geo/GeoAdminUnits" Icon="@Icons.Material.Outlined.AcUnit" Class="fsh-nav-child">@L["Admin Units"]</MudNavLink>
            }
            @if (_canViewCountries)
            {
                <MudNavLink Href="/Geo/countries" Icon="@Icons.Material.Outlined.Landscape" Class="fsh-nav-child">@L["Countries"]</MudNavLink>
            }
            @if (_canViewStates)
            {
                <MudNavLink Href="/Geo/states" Icon="@Icons.Material.Outlined.Group" Class="fsh-nav-child">@L["States"]</MudNavLink>
            }
@*            @if (_canViewRegions)
            {
                <MudNavLink Href="/Geo/regions" Icon="@Icons.Material.Outlined.ZoomOutMap" Class="fsh-nav-child">@L["Regions"]</MudNavLink>
            }*@
            @if (_canViewProvinces)
            {
                <MudNavLink Href="/Geo/provinces" Icon="@Icons.Material.Outlined.LocationCity" Class="fsh-nav-child">@L["Provinces"]</MudNavLink>
            }
            @if (_canViewDistricts)
            {
                <MudNavLink Href="/Geo/districts" Icon="@Icons.Material.Outlined.Villa" Class="fsh-nav-child">@L["Districts"]</MudNavLink>
            }
            @if (_canViewWards)
            {
                <MudNavLink Href="/Geo/wards" Icon="@Icons.Material.Outlined.Yard" Class="fsh-nav-child">@L["Wards"]</MudNavLink>
            }
        </MudNavGroup>
    }

    @if (CanViewOrganizationGroup)
    {
        <MudNavGroup Title="@L["Organization"]" Icon="@Icons.Material.Outlined.AccountBalance" Class="mt-2 mb-n2" Expanded="false">
            @if (_canViewBusinessUnits)
            {
                <MudNavLink Href="/Organization/BusinessUnits" Icon="@Icons.Material.Outlined.AccountBalanceWallet" Class="fsh-nav-child"> @L["BusinessUnits"] </MudNavLink>
            }
            @if (_canViewDepartments)
            {
                <MudNavLink Href="/Organization/Departments" Icon="@Icons.Material.Outlined.SwitchAccount" Class="fsh-nav-child"> @L["Departments"] </MudNavLink>
            }
            @if (_canViewSubDepartments)
            {
                <MudNavLink Href="/Organization/SubDepartments" Icon="@Icons.Material.Outlined.Groups" Class="fsh-nav-child"> @L["SubDepartments"] </MudNavLink>
            }
            @if (_canViewTeams)
            {
                <MudNavLink Href="/Organization/Teams" Icon="@Icons.Material.Outlined.Group" Class="fsh-nav-child"> @L["Teams"] </MudNavLink>
            }

        </MudNavGroup>
    }

    @if (CanViewPeopleGroup)
    {
        <MudNavGroup Title="@L["People"]" Icon="@Icons.Material.Outlined.PeopleAlt" Class="mt-2 mb-n2" Expanded="false">
            @if (_canViewEmployeeStats)
            {
                <MudNavLink Href="/dashboard/employeestats" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard" Class="fsh-nav-child">
                    @L["Dashboard"]
                </MudNavLink>
            }
            @if (_canViewEmployees)
            {
                <MudNavLink Href="/People/Employees" Icon="@Icons.Material.Outlined.Groups2" Class="fsh-nav-child"> @L["Employees"] </MudNavLink>
            }
            @if (_canViewTitles)
            {
                <MudNavLink Href="/People/Titles" Icon="@Icons.Material.Outlined.Title" Class="fsh-nav-child"> @L["Titles"] </MudNavLink>
            }

        </MudNavGroup>
    }

    @if (CanViewElearningGroup)
    {
        <MudNavGroup Title="@L["ELearning"]" Icon="@Icons.Material.Outlined.School" Class="mt-2 mb-n2" Expanded="false">
            @if (_canViewQuizs)
            {
                <MudNavLink Href="/Elearning/Quizs" Icon="@Icons.Material.Outlined.LibraryBooks" Class="fsh-nav-child"> @L["Quizs"] </MudNavLink>
            }
            @if (_canViewQuizResults)
            {
                <MudNavLink Href="/Elearning/QuizResults" Icon="@Icons.Material.Outlined.Info" Class="fsh-nav-child"> @L["Quiz Results"] </MudNavLink>
            }
        </MudNavGroup>
    }

    @if (CanViewPurchaseGroup)
    {
        <MudNavGroup Title="@L["Purchase"]" Icon="@Icons.Material.Outlined.DynamicFeed" Class="mt-2 mb-n2" Expanded="false">
            @if (_canViewVendors)
            {
                <MudNavLink Href="/Purchase/Vendors" Icon="@Icons.Material.Outlined.Factory" Class="fsh-nav-child"> @L["Vendors"] </MudNavLink>
            }
        </MudNavGroup>
    }

    @if (CanViewCatalogGroup)
    {
        <MudNavGroup Title="@L["Catalog"]" Icon="@Icons.Material.Outlined.Category" Class="mt-2 mb-n2" Expanded="false">
            @if (_canViewBrands)
            {
                <MudNavLink Href="/catalog/brands" Icon="@Icons.Material.Outlined.PanoramaPhotosphereSelect" Class="fsh-nav-child">
                    @L["Brands"]
                </MudNavLink>
            }
            @if (_canViewBusinessLines)
            {
                <MudNavLink Href="/catalog/BusinessLines" Icon="@Icons.Material.Outlined.AccountTree" Class="fsh-nav-child"> @L["Business Lines"] </MudNavLink>
            }
            @if (_canViewGroupCategories)
            {
                <MudNavLink Href="/catalog/GroupCategories" Icon="@Icons.Material.Outlined.SpeakerGroup" Class="fsh-nav-child"> @L["Group Categories"] </MudNavLink>
            }
            @if (_canViewCategories)
            {
                <MudNavLink Href="/catalog/Categories" Icon="@Icons.Material.Outlined.Widgets" Class="fsh-nav-child"> @L["Categories"] </MudNavLink>
            }
            @if (_canViewSubCategories)
            {
                <MudNavLink Href="/catalog/SubCategories" Icon="@Icons.Material.Outlined.ViewAgenda" Class="fsh-nav-child"> @L["Sub Categories"] </MudNavLink>
            }

        </MudNavGroup>
    }

    @if (CanViewPropertyGroup)
    {
        <MudNavGroup Title="@L["Property"]" Icon="@Icons.Material.Outlined.VideogameAsset" Class="mt-2 mb-n2" Expanded="false">
            @if (_canViewAssetStats)
            {
                <MudNavLink Href="/dashboard/assetstats" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard" Class="fsh-nav-child">
                    @L["Dashboard"]
                </MudNavLink>
            }
            @if (_canViewAssets)
            {
                <MudNavLink Href="/Property/Assets" Icon="@Icons.Material.Outlined.WebAsset" Class="fsh-nav-child"> @L["Assets"] </MudNavLink>
            }
            @if (_canViewAssetHistorys)
            {
                <MudNavLink Href="/Property/AssetHistorys" Icon="@Icons.Material.Outlined.History" Class="fsh-nav-child"> @L["Asset Histories"] </MudNavLink>
            }
            @if (_canViewAssetStatuses)
            {
                <MudNavLink Href="/Property/AssetStatuses" Icon="@Icons.Material.Outlined.QueryStats" Class="fsh-nav-child"> @L["Asset Statuses"] </MudNavLink>
            }
        </MudNavGroup>
    }

    @if (CanViewProductionGroup)
    {
        <MudNavGroup Title="@L["Production"]" Icon="@Icons.Material.Outlined.Category" Class="mt-2 mb-n2" Expanded="false">
            @if (_canViewProductStats)
            {
                <MudNavLink Href="/dashboard/productstats" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard" Class="fsh-nav-child">
                    @L["Dashboard"]
                </MudNavLink>
            }
            @if (_canViewProducts)
            {
                <MudNavLink Href="/Production/products" Icon="@Icons.Material.Outlined.ViewCarousel" Class="fsh-nav-child">
                    @L["Products"]
                </MudNavLink>
            }
            @if (_canViewPriceGroups)
            {
                <MudNavLink Href="/Price/PriceGroups" Icon="@Icons.Material.Outlined.PriceCheck" Class="fsh-nav-child"> @L["Price Groups"] </MudNavLink>
            }
            @if (_canViewPricePlans)
            {
                <MudNavLink Href="/Price/PricePlans" Icon="@Icons.Material.Outlined.PriceChange" Class="fsh-nav-child"> @L["Price Plans"] </MudNavLink>
            }
        </MudNavGroup>
    }

    @if (CanViewPlaceGroup)
    {
        <MudNavGroup Title="@L["Distribution"]" Icon="@Icons.Material.Outlined.WebStories" Class="mt-2 mb-n2" Expanded="false">
            @if (_canViewDistributionStats)
            {
                <MudNavLink Href="/dashboard/distributionstats" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard" Class="fsh-nav-child">
                    @L["Dashboard"]
                </MudNavLink>
            }
            @if (_canViewChannels)
            {
                <MudNavLink Href="/Place/Channels" Icon="@Icons.Material.Outlined.Storefront" Class="fsh-nav-child"> @L["Channels"] </MudNavLink>
            }
            @if (_canViewRetailers)
            {
                <MudNavLink Href="/Place/Retailers" Icon="@Icons.Material.Outlined.Store" Class="fsh-nav-child"> @L["Retailers"] </MudNavLink>
            }
            @if (_canViewStores)
            {
                <MudNavLink Href="/Place/Stores" Icon="@Icons.Material.Outlined.LocalConvenienceStore" Class="fsh-nav-child"> @L["Stores"] </MudNavLink>
            }
        </MudNavGroup>
    }

    <MudDivider Class="my-2" />
    @if (CanViewUserGroup || CanViewSystemGroup)
    {
        <MudText Typo="Typo.subtitle2" Color="Color.Primary" Class="ml-4 my-3">@L["Administration"]</MudText>

        @if (CanViewUserGroup)
        {
            <MudNavGroup Title="@L["User Management"]" Icon="@Icons.Material.Filled.Security" Class="mt-2 mb-n2" Expanded="false">
                @if (_canViewUserStats)
                {
                    <MudNavLink Href="/Dashboard/UserStats" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard" Class="fsh-nav-child">@L["Dashboard"]</MudNavLink>
                }
                @if (_canViewUsers)
                {
                    <MudNavLink Match="NavLinkMatch.Prefix" Href="/users" Icon="@Icons.Material.Filled.PeopleAlt" Class="fsh-nav-child">@L["Users"]</MudNavLink>
                }
                @if (_canViewRoles)
                {
                    <MudNavLink Href="/roles" Icon="@Icons.Material.Filled.EmojiPeople" Class="fsh-nav-child">@L["Roles"]</MudNavLink>
                }
                @if (_canViewTenants)
                {
                    <MudNavLink Href="/tenants" Icon="@Icons.Material.Filled.GroupWork" Disabled="!_canViewTenants" Class="fsh-nav-child">@L["Tenants"]</MudNavLink>
                }
                @if (_canViewChatMessages)
                {
                    <MudNavLink Href="/communication/chatmessages" Icon="@Icons.Material.Filled.Message" Disabled="!_canViewChatMessages" Class="fsh-nav-child">@L["ChatMessages"]</MudNavLink>
                }
            </MudNavGroup>
        }

        @if (CanViewSystemGroup)
        {
            <MudNavGroup Title="@L["System"]" Icon="@Icons.Material.Outlined.Settings" Class="mt-2 mb-n2" Expanded="false">
                @if (_canViewMenus)
                {
                    <MudNavLink Href="/settings/menus" Match="NavLinkMatch.All" Target="_blank" Icon="@Icons.Material.Filled.SettingsApplications"
                                Class="fsh-nav-child">
                        @L["Menu Settings"]
                    </MudNavLink>
                }
                @if (_canViewHangfire)
                {
                    <MudNavLink Href="@_hangfireUrl" Match="NavLinkMatch.All" Target="_blank" Icon="@Icons.Material.Filled.WorkOutline"
                                Class="fsh-nav-child">@L["Hangfire"]</MudNavLink>
                }
                <MudNavLink Href="/audit-logs" Icon="@Icons.Material.Filled.SecurityUpdateGood" Class="fsh-nav-child">@L["Logs"]</MudNavLink>
                <MudNavLink Href="https://localhost:5001/swagger/index.html" Icon="@Icons.Material.Filled.Api" Class="fsh-nav-child">@L["Swagger API"]</MudNavLink>

            </MudNavGroup>
        }     
    }

</MudNavMenu>